---
interface Props {
  title: string;
  url: string;
}

const { title, url } = Astro.props;
---

<div class="flex items-center gap-3">
  <a
    href={`https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`}
    target="_blank"
    rel="noopener noreferrer"
    class="bg-[#1DA1F2]/10 hover:bg-[#1DA1F2]/20 text-[#1DA1F2] p-2 rounded transition-colors"
    aria-label="Share on Twitter"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/></svg>
  </a>
  
  <button
    id="copy-link"
    class="bg-accent/10 hover:bg-accent/20 text-accent p-2 rounded transition-colors group"
    aria-label="Copy link"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>
  </button>
</div>

<script>
  const copyButton = document.getElementById('copy-link');
  if (copyButton) {
    copyButton.addEventListener('click', () => {
      navigator.clipboard.writeText(window.location.href);
      copyButton.classList.add('bg-green-500/20', 'text-green-500');
      setTimeout(() => {
        copyButton.classList.remove('bg-green-500/20', 'text-green-500');
      }, 1000);
    });
  }
</script>